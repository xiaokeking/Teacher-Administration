define(["jquery","template","tool","bootstrap","jquery_form"],function(t,e,a){t(function(){var s=a.getParam("cs_id");t.ajax({type:"get",url:"/api/course/lesson",data:{cs_id:s},success:function(a){if(200==a.code){var s=e("step3_tpl",a.result);t(".course-add").html(s)}}}),t("body").on("click",".btn_add",function(){var a=e("lesson_tpl",{title:"添加课时",btnText:"添 加",type:"add",ct_cs_id:s});t("#lesson").data("type","add"),t("#lesson").html(a),t("#lesson").modal("show")}),t("body").on("click",".btn_edit",function(){var a=t(this).parent().data("id");t.ajax({type:"get",url:"/api/course/chapter/edit",data:{ct_id:a},success:function(a){if(200==a.code){console.log(a);var s=a.result;s.title="修改课时",s.btnText="修 改";var o=e("lesson_tpl",s);t("#lesson").data("type","edit"),t("#lesson").html(o),t("#lesson").modal("show")}}})}),t("body").on("click",".btn_save",function(){var e="";e="add"==t("#lesson").data("type")?"/api/course/chapter/add":"/api/course/chapter/modify";var a;a=t("#ct_is_free").prop("checked")?0:1,t("form").ajaxSubmit({type:"post",url:e,data:{ct_is_free:a},success:function(t){t.code}})})})});