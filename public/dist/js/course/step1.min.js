define(["jquery","tool","template","ckeditor"],function(e,a,c,s){e(function(){var t=a.getParam("cs_id");e.ajax({type:"get",url:"/api/course/basic",data:{cs_id:t},success:function(a){if(200==a.code){var t=c("step1_tpl",a.result);e(".course-add").html(t),s.replace("cs_brief",{toolbarGroups:[{name:"clipboard",groups:["clipboard","undo"]},{name:"basicstyles",groups:["basicstyles","cleanup"]},"/",{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"styles"},{name:"colors"}]})}}}),e("body").on("change","#cs_cg_pid",function(){var a=e(this).val();e.ajax({type:"get",url:"/api/category/child",data:{cg_id:a},success:function(a){if(200==a.code){var s=c("category_tpl",a);e("#cs_cg_id").html(s)}else e("#cs_cg_id").html('<option value="">二级分类</option>')}})}),e("body").on("click",".btn_save",function(){for(instance in s.instances)s.instances[instance].updateElement();e.ajax({type:"post",url:"/api/course/update/basic",data:e("form").serialize(),success:function(e){200==e.code&&(location.href="/course/step2?cs_id="+t)}})})})});