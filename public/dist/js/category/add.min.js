define(["jquery","template","tool"],function(t,e,a){t(function(){var o=a.getParam("cg_id");o?t.ajax({type:"get",url:"/api/category/edit",data:{cg_id:o},success:function(a){if(200==a.code){console.log(a.result);var o=a.result;o.title="修改分类",o.btnText="修 改";var c=e("category_add_tpl",o);t(".course-category").html(c)}}}):t.ajax({type:"get",url:"/api/category/top",success:function(a){if(200==a.code){var o=e("category_add_tpl",{title:"添加分类",btnText:"添 加",top:a.result});t(".course-category").html(o)}}}),t("body").on("click",".btn_save",function(){var e="";e=o?"/api/category/modify":"/api/category/add",t.ajax({type:"post",url:e,data:t("form").serialize(),success:function(t){200==t.code&&(location.href="/category/list")}})})})});